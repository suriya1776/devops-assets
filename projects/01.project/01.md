# ğŸš€ Configuring CI/CD with GitHub Actions

## ğŸ”‘ Creating a Personal Access Token for GitHub Actions

1. Navigate to **âš™ï¸ Settings** â†’ **ğŸ”§ Developer Settings** â†’ **ğŸ”‘ Personal Access Token**.
    
    ![PAT Image](assets/ss_01.png)
    
2. Click on **Tokens (classic)** and then click on **ğŸ†• Generate New Token**.
    
    ![PAT Image](assets/ss_02.png)
    
3. Provide a name for the token, check **âœ… Write Packages**, and generate the token.
    
4. This token will be used for authentication, allowing **ğŸ” login, âœï¸ write, and ğŸ“– read** access to GitHub Image Registry.
    

---

## âš™ï¸ GitHub Actions Workflows

GitHub Actions workflows should be located in:  
ğŸ“‚ `/.github/workflows/<workflowname.yml>`  
GitHub scans this path and executes workflows based on defined conditions.

- A workflow file named **CICD-main.yml** is created in the SCM repository.
    
- The workflow is triggered whenever a **â¬†ï¸ push operation** or **ğŸ”€ pull request merge** occurs on the **main** branch.
    
- If changes are made to a **specific microservice**, only that microservice is **ğŸ› ï¸ built and ğŸ“¦ pushed** to **GitHub Container Registry (GHCR)**.
    
- If no relevant changes are detected, the image-building step is **â­ï¸ skipped**.
    
- Authentication to **GHCR** is handled using **ğŸ” secrets** (username and password) configured in the repository.
    

---

## ğŸ”„ CI/CD Operation

1. **ğŸ“œ Dummy Push**
    
    - A workflow file modification is pushed to the master branch.
        
    - Since this is a dummy push, **no microservice** is detected, and the **image-building stage is skipped**.
        
    
    ![Dummy push](assets/ss_03.png)
    
    **ğŸ“Œ Pipeline Status:**
    
    ![Pipeline status](assets/ss_04.png)  
    ![Pipeline status](assets/ss_05.png)
    
2. **ğŸ› ï¸ Microservice Change Detected**
    
    - A change is made to a microservice folder.
        
    - The workflow detects the change, **ğŸ”¨ builds the image**, and **ğŸš€ pushes it to GHCR**.
        
    
    **ğŸ“Œ Microservice Detected in Pipeline:**
    
    ![Microservice detected in pipeline](assets/ss_06.png)
    
    **âœ… Image Pushed Status:**
    
    ![Image pushed status](assets/ss_07.png)
    
    **ğŸ“¦ GHCR Image Registry:**
    
    ![GHRC Image registry](assets/ss_08.png)
    

This setup ensures **âš¡ efficient CI/CD automation** using **GitHub Actions**, allowing **only the necessary microservices** to be **built and deployed** when changes are made. ğŸš€